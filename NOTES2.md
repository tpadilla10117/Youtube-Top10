let sampleData = [
  [ 'Watched Super Bass', 1 ],
  [ 'Watched Treasure', 1 ],
  [ 'Watched Motivation', 3 ],
  [ 'Watched Unforgettable', 2 ],
  [ 'Watched Psycho', 2 ],
  ['Watched Zelda', 10],
  [ 'Watched Life Is Good', 1 ],
  [ 'Watched Bad & Boujee feat Lil Uzi Vert', 1 ],
  [ 'The Bro', 22 ]
]
;

const testArray = [
    {
          "header": "YouTube Music",
          "title": "Watched Super Bass",
          "titleUrl": "https://www.youtube.com/watch?v=dzuQ5ustJVM",
          "subtitles": [

            {
              "name": "Nicki Minaj - Topic",
              "url": "https://www.youtube.com/channel/UCTTcTeAszDGxALRSMkJH9FQ"
            }
          ],

          "time": "2022-04-25T15:10:35.580Z",

          "products": [
            "YouTube"
          ],

          "activityControls": [
            "YouTube watch history"
          ]

    },
    {
    "header": "YouTube Music",
    "title": "Watched Treasure",
    "titleUrl": "https://www.youtube.com/watch?v=wem2YgNIeBs",
    "subtitles": [
      {
        "name": "Bruno Mars - Topic",
        "url": "https://www.youtube.com/channel/UCZn4r7heNOPY-C43YIywnVA"
      }
    ],
    "time": "2022-04-25T15:13:56.342Z",
    "products": [
      "YouTube"
    ],
    "activityControls": [
      "YouTube watch history"
    ]
  },
    {
    "header": "YouTube Music",
    "title": "Watched Motivation",
    "titleUrl": "https://www.youtube.com/watch?v=00cy26MtfRs",
    "subtitles": [
      {
        "name": "Normani - Topic",
        "url": "https://www.youtube.com/channel/UCM086fg88OhGvyzezmfRmLA"
      }
    ],
    "time": "2022-04-25T17:54:34.269Z",
    "products": [
      "YouTube"
    ],
    "activityControls": [
      "YouTube watch history"
    ]
  },
    {
    "header": "YouTube Music",
    "title": "Watched Motivation",
    "titleUrl": "https://www.youtube.com/watch?v=00cy26MtfRs",
    "subtitles": [
      {
        "name": "Normani - Topic",
        "url": "https://www.youtube.com/channel/UCM086fg88OhGvyzezmfRmLA"
      }
    ],
    "time": "2022-04-25T17:54:34.269Z",
    "products": [
      "YouTube"
    ],
    "activityControls": [
      "YouTube watch history"
    ]
  },
    {
    "header": "YouTube Music",
    "title": "Watched Motivation",
    "titleUrl": "https://www.youtube.com/watch?v=00cy26MtfRs",
    "subtitles": [
      {
        "name": "Normani - Topic",
        "url": "https://www.youtube.com/channel/UCM086fg88OhGvyzezmfRmLA"
      }
    ],
    "time": "2022-04-25T17:54:34.269Z",
    "products": [
      "YouTube"
    ],
    "activityControls": [
      "YouTube watch history"
    ]
  },
    
  {
    "header": "YouTube Music",
    "title": "Watched Unforgettable",
    "titleUrl": "https://www.youtube.com/watch?v=48ydDUQ16RE",
    "subtitles": [
      {
        "name": "French Montana - Topic",
        "url": "https://www.youtube.com/channel/UC4-6_ZDEUvmsdgVNmoqt26Q"
      }
    ],
    "time": "2020-12-17T23:32:49.454Z",
    "products": [
      "YouTube"
    ],
    "activityControls": [
      "YouTube watch history"
    ]
  },
  {
    "header": "YouTube Music",
    "title": "Watched Unforgettable",
    "titleUrl": "https://www.youtube.com/watch?v=48ydDUQ16RE",
    "subtitles": [
      {
        "name": "French Montana - Topic",
        "url": "https://www.youtube.com/channel/UC4-6_ZDEUvmsdgVNmoqt26Q"
      }
    ],
    "time": "2020-12-17T23:32:49.454Z",
    "products": [
      "YouTube"
    ],
    "activityControls": [
      "YouTube watch history"
    ]
  },
  {
    "header": "YouTube Music",
    "title": "Watched Psycho",
    "titleUrl": "https://www.youtube.com/watch?v=d1wy6LWfHAs",
    "subtitles": [
      {
        "name": "Post Malone - Topic",
        "url": "https://www.youtube.com/channel/UCyD3XWRK9ko-izf2nBSFitw"
      }
    ],
    "time": "2020-12-17T23:20:56.844Z",
    "products": [
      "YouTube"
    ],
    "activityControls": [
      "YouTube watch history"
    ]
  },
  {
    "header": "YouTube Music",
    "title": "Watched Psycho",
    "titleUrl": "https://www.youtube.com/watch?v=d1wy6LWfHAs",
    "subtitles": [
      {
        "name": "Post Malone - Topic",
        "url": "https://www.youtube.com/channel/UCyD3XWRK9ko-izf2nBSFitw"
      }
    ],
    "time": "2020-12-17T23:20:56.844Z",
    "products": [
      "YouTube"
    ],
    "activityControls": [
      "YouTube watch history"
    ]
  },
  {
    "header": "YouTube Music",
    "title": "Watched Life Is Good",
    "titleUrl": "https://www.youtube.com/watch?v=6f8gDL-wPN8",
    "subtitles": [
      {
        "name": "FUTURE - Topic",
        "url": "https://www.youtube.com/channel/UC1_liDR4fRFJgH4HoJeV8cw"
      }
    ],
    "time": "2020-12-17T23:16:57.467Z",
    "products": [
      "YouTube"
    ],
    "activityControls": [
      "YouTube watch history"
    ]
  },
  {
    "header": "YouTube Music",
    "title": "Watched Bad & Boujee feat Lil Uzi Vert",
    "titleUrl": "https://www.youtube.com/watch?v=nULNkvhmFp4",
    "subtitles": [
      {
        "name": "Migos - Topic",
        "url": "https://www.youtube.com/channel/UCF5D9qC1TAQnFWa4oHuBZcA"
      }
    ],
    "time": "2020-12-17T23:11:13.280Z",
    "products": [
      "YouTube"
    ],
    "activityControls": [
      "YouTube watch history"
    ]
  },
  ]
;


function findSongCountArray(arr) {

  let hashMap = {};

  
  for(let songs of arr) {
  
      if(!hashMap[songs.title]) {
        hashMap[songs.title] = 1
      } else {
        hashMap[songs.title]++
      }
    
    }
  
  /* console.log('Object.entries:', Object.entries(hashMap) ) */
  hashMap = Object.entries(hashMap);
  return hashMap;
};

console.log('Call of findSongCountArray: ', findSongCountArray(testArray) );



function pivot (arr, start=0, end=arr.length-1) {
    let pivot = arr[start][1];
    let swapIdx = start; //keeps track of how many numbers are less than the pivot, and allows us to swap at the correct index
    //a helper for swaping elements:
    function swap(array, i, j) {
      let temp = array[i][1];
      array[i][1] = array[j][1];
      array[j][1] = temp;
    };

    for (let i = start + 1; i < arr.length; i++) {
      if(pivot > arr[i][1]) {
        swapIdx++;
        swap(arr, swapIdx, i);
      }
    }
    swap(arr, start, swapIdx);
    return swapIdx;

  };


 /*  console.log( "Here is the call of pivot: ", pivot( [4, 6, 9, 1, 2, 5, 3] ) ); */ //Output: 


/* Quicksort Pseudocode:

  - Call the pivot helper on the array
  - When the helper returns to you the updated pivot index, recursively call the pviot helper on the subarray to the left of that index, and the subarray to the right of that index

  - your base case occurs when you consider a subarray with less than 2 elements

 */

function quicksort(arr, left = 0, right = arr.length - 1) {
//Base Case: once the subarrays narrow down to one element:
  if(left < right) {

    let pivotIndex = pivot(arr, left, right); //yield 3 with current array

    //left side:
    quicksort(arr, left, pivotIndex - 1)

    //right side:
    quicksort(arr, pivotIndex + 1, right);
  };

  /* console.log('How to get n elements: ', arr.slice(-3) ) */
/*Returns TOP 3:  */
  return arr.slice(-3);
  /* return arr.slice(-3)[0][0]; */ /*Get's the title of the first indexed song  */
};

console.log("Here is the return of quicksort: ", quicksort(findSongCountArray(testArray) ) );



const testingFindIndex = quicksort(findSongCountArray(testArray) );



function splicedOriginalData(arr) {

  let originalData = testArray;
  /* console.log('Accessing OriginalData: ', originalData[0].title) */
  let newArray = [];
  let finalArray = [];

 for(let i = 0; i < arr.length; i++) {
    
    console.log('The top 10 data occurs here in the original dataset: ', originalData.findIndex(object => {
      return object.title === arr[i][0]
    }) );
  

/*Finds first index of the top ten in the original data set:  */
    const indexesOfSongs = originalData.findIndex(object => {
      return object.title === arr[i][0]
    }) ;
   

    console.log('My indexes: ', indexesOfSongs)
    newArray.push(indexesOfSongs);
 }
    console.log("Here is newArray indexes: ", newArray)

    for(let j = 0; j < newArray.length; j++) {
      console.log('Here is j: ', newArray[j])
      
      /* console.log("Result of splice each loop: ", finalArray.push(originalData[newArray[j]]) ); */
      /* finalArray.push(originalData.splice(newArray[j]) ); */
      /* finalArray.push(originalData[newArray[j]]) */

      let theIndexOfTopTenSong = newArray[j];
      console.log("the index of top 10 song: ", theIndexOfTopTenSong);
      console.log('The data: ', originalData[theIndexOfTopTenSong] );
      
      let theTopTenSongData = originalData[theIndexOfTopTenSong];
      finalArray.push(theTopTenSongData);
      
    }
    /* console.log("Here is originalData: ", originalData[7]) */
    return finalArray;
};

console.log('Call of splicedOriginalData: ', 
            splicedOriginalData([
              [ 'Watched Psycho', 2 ],
              [ 'Watched Life Is Good', 2 ],
              [ 'Watched Bad & Boujee feat Lil Uzi Vert', 3 ]
            ]
            ));